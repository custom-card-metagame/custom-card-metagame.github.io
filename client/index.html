<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Page Metadata -->
    <title>Meta-PTCG | Pokémon TCG Tabletop Simulator </title>
    <meta name="description" content="PTCG-sim-meta is an open-source Pokémon Trading Card Game (Pokémon TCG) tabletop simulator supporting single player and online multiplayer. With a focused emphasis on added features for custom Meta!">
    <meta name="keywords" content="ptcg sim,ptcg,pokemon trading card game simulator,pokemon trading card game sim,pokemon tcg simulator,pokemon tcg sim,pokemon sim,pokemon simulator,pokemon card simulator,pokemon card sim,pokemon tabletop simulator,pokemon tabletop sim,pokemon,pokemon card,pokemonsim,pokemon game sim,ptcg os,pokemon open source"/>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta http-equiv="Content-Language" content="en">
    
    <!-- OpenGraph Tags for Social Media -->
    <meta property="og:title" content="Pokémon Meta TCG Tabletop Simulator | PTCG-sim-meta"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://ptcg-sim-meta.pages.dev/src/assets/blank-logo.png"/>
    <meta property="og:url" content="https://ptcg-sim-meta.pages.dev"/>
    <meta property="og:description" content="PTCG-sim-meta is an open-source Pokémon Trading Card Game (Pokémon TCG) tabletop simulator supporting single player and online multiplayer. Simulate your favorite card game!">
    <meta property="og:site_name" content="PTCG-sim-meta">
    
    <!-- Viewport and Favicon -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/src/assets/favicon.ico" type="image/x-icon">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="src/css/index.css">
    <link rel="stylesheet" href="../src/css/glow.css">
    
    <!-- External Libraries -->
    <script src="https://cdn.socket.io/4.7.4/socket.io.min.js"></script>
    
    <!-- Main Application Script -->
    <script type="module" src="/src/front-end.js"></script>
    
    <!-- Mobile Detection Script -->
    <script>
        window.onload = () => {
            var isMobile = /iPhone|iPad|iPod|Android|webOS|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            if (isMobile) {
                alert("PTCG-sim & Meta is still in mobile development. Please use a desktop for full functionality.");
            };
        };
    </script>
</head>
<body>
    <!-- Main Container Elements -->
    <div id="cover"></div>
    <iframe id="selfContainer" class="self" src="./self-containers.html"></iframe>
    <iframe id="oppContainer" class="opp" src="./opp-containers.html"></iframe>
    <div id="stadium" class="outline stadium-outline"></div>
    
    <!-- Resizer Elements -->
    <div id="selfResizer" class="self-color"></div>
    <div id="oppResizer" class="opp-color"></div>

    <!-- Board Control Buttons -->
    <div id="boardButtonContainer">
        <div class="tooltip" id="turnButton">
            <button>+Turn</button>
            <span class="tooltiptext">Start turn</span>
        </div>
        <div class="tooltip" id="flipCoinButton">
            <button>Coin</button>
            <span class="tooltiptext">Flip coin</span>
        </div>
        <div class="tooltip" id="flipBoardButton">
            <button>⇅</button>
            <span class="tooltiptext">Flip board</span>
        </div>
        <div class="tooltip" id="refreshButton">
            <button><div id="refreshIcon">↻</div><div id="loadingCircle"></div></button>
            <span class="tooltiptext">Refresh images</span>
        </div>
    </div>

    <!-- Top Navigation Buttons -->
    <div id="topButtonContainer">
        <button id="p1Button" class="selected-page">1P</button>
        <button id="p2Button" class="not-selected-page">2P</button>
        <button id="deckImportButton" class="not-selected-page">Import</button>
        <button id="settingsButton" class="not-selected-page">Settings</button>
    </div>
    <div id="greyFiller"></div>

    <!-- Player 1 Interface Box -->
    <div id="p1Box" class="sidebox">
        <div id="chatbox">
            <strong>Welcome to the Meta PTCG-sim!</strong>
            <p>
                <div style="text-align: center;">                        
                    <h3>PTCG-Sim Latest Changelog</h3>
                    <strong id="changelogLink" style="cursor: pointer; text-decoration: none; color: #ffcc00; border-bottom: 1px solid #ffcc00;">v1.5.1 Ϟ(๑⚈ ․̫ ⚈๑)⋆</strong>
                    <h3>META PTCG Latest Changelog</h3>
                    <strong id="metaChangelogLink" style="cursor: pointer; text-decoration: none; color: #ff9900; border-bottom: 1px solid #ff9900; margin-left: 10px;">Meta v0.1.0 ✧(≖ ヮ ≖)✧</strong>
                    </div>
                    <h5><p style="font-size: 90%;">PTCG-sim-meta is an <a href="https://github.com/Envoyofhell/ptcg-sim-meta" target="_blank">open-source</a> fork of <a href="https://github.com/xxmichaellong/ptcg-sim" target="_blank">ptcg-sim</a> Pokémon Trading Card Game (Pokémon TCG) tabletop simulator. It supports single player and online multiplayer.</p> 
                        <p style="font-size: 90%;">Use the <strong>Import</strong> tab above to import your deck, then press <strong>Set Up</strong> to start a game.</p>
                        <p style="font-size: 90%;">Drag or use keybinds (hold <span class="shift-font">shift</span>) to move cards. </p>
                        <p style="font-size: 90%;">See the <strong>Options</strong> button below to import, export, and replay games.</p>
                        <p style="font-size: 90%;">We have a lot in the works with more coming soon so stick around!</p></h5>
                
            </p>
            
        
            <!-- Existing buttons and links -->
            <button id="tutorialButton">Watch Tutorial</button>
            <br><br>
            <div id="links">
               
                <div id="donationsLink"></div> 
            </div>
            <div id="line"></div>
        </div>
        <div id="chatboxButtonContainer" class="chat-button-container">
            <button id="attackButton" class="self-color">Attack</button>
            <button id="passButton" class="self-color">Pass</button>
            <button id="undoButton" class="self-color">Undo</button>
        </div>
        <input id="messageInput" type="text" placeholder="Type your message here...">
        <div id="bottomP1ButtonContainer" class="sidebox-button-container">
            <button id="setupButton" class="self-color">Set Up</button>
            <button id="resetButton" class="self-color">Reset</button>
            <button id="setupBothButton" class="neutral-color">Set Up Both</button>
            <button id="resetBothButton" class="neutral-color">Reset Both</button>
            <button id="optionsButton" class="neutral-color">Options</button>
        </div>
    </div>

    <!-- Player 2 Interface Box -->
    <div id="p2Box" class="sidebox">
        <div id="p2ExplanationBox">
            <strong>Online Multiplayer Mode</strong>
            <br><br>
            Enter or generate a unique room ID to share with your friends. Players must enter the same ID (case-sensitive) to join.
        </div>
        <div id="lobby">
            <input id="nameInput" type="text" placeholder="Name">
            <div id="roomId">
                <input id="roomIdInput" type="text" placeholder="Room ID">
                <button id="copyButton">
                    <img src="https://www.svgrepo.com/show/309480/copy.svg" alt="Copy">
                </button>                
                <button id="generateIdButton">Generate</button>
            </div>
            <div id="coachingModeLabel">
                <input type="checkbox" id="coachingModeCheckbox">
                <label style="cursor: pointer;" for="coachingModeCheckbox">Enable board flip <span style="font-style: italic; font-size: smaller;">(both players must enable)</span></label>
            </div>
            <div id="spectatorModeLabel">
                <input type="checkbox" id="spectatorModeCheckbox">
                <label style="cursor: pointer;" for="spectatorModeCheckbox">Join as spectator</label>
            </div>
            <div id="joinRoomButton"> Join Room </div>
        </div>
        <div id="connectedRoom">
            <div id="roomHeader">
                <div id ="roomHeaderText"></div>
                <button id="roomHeaderCopyButton">
                    <img src="https://www.svgrepo.com/show/309480/copy.svg" alt="Copy">
                </button>
        </div>
            <div id="p2Chatbox"></div>
            <div id="p2ChatboxButtonContainer" class="chat-button-container">
                <button id="p2AttackButton" class="self-color">Attack</button>
                <button id="p2PassButton" class="self-color">Pass</button>
                <!-- <button id="p2UndoButton" class="self-color">Undo</button> -->
            </div>
            <input id="p2MessageInput" type="text" placeholder="Type your message here...">
            <div id="p2BottomButtonContainer" class="sidebox-button-container">
                <button id="p2SetupButton" class="self-color">Set Up</button>
                <button id="p2ResetButton" class="self-color">Reset</button>
                <button id="leaveRoomButton" class="neutral-color">Leave Room</button>
                <button id="p2OptionsButton" class="neutral-color">Options</button>
            </div>
        </div>
       
    </div>

    <!-- Deck Import Interface -->
    <div id="deckImport" class="sidebox">
        <div>
            <button id="deckBuilderButton">Deck Builder</button>
            <button id="importExportGameStateButton">Import/Export Game</button>
            <!-- <button id="decklistButton">New format decks</button>
            <script>
                const decklistButton = document.getElementById('decklistButton');
                    decklistButton.addEventListener('click', function() {
                    window.open('https://drive.google.com/drive/folders/1Vk04FldAH9dTzOI38O_KCUP4zPhm6pyn', '_blank');
                });
            </script> -->
            </div>
        <div id="importButtonContainer">
            <button id="mainImportHeaderButton" class="main-select">Main</button>
            <button id="altImportHeaderButton">Alt (1P only)</button>
        </div>
        <textarea id="mainDeckImportInput" spellcheck="false"></textarea>
        <script>
            document.getElementById("mainDeckImportInput").placeholder = "Paste your main decklist here. \n\nClick the book 📖 to look through popular decks or click the wand 🪄 for a random deck! \n\nFor uploading custom images, write the quantity and name (i.e. 2 Pikachu) and click on the 'Import' button. \n\nInternational languages are supported for cards using Limitless URLs.";
        </script>          
        <textarea id="altDeckImportInput" spellcheck="false"></textarea>
        <script>
            document.getElementById("altDeckImportInput").placeholder = "Paste your alternative decklist here if you are playing against yourself. \n\nClick the book 📖 to look through popular decks or click the wand 🪄 for a random deck! \n\nFor uploading custom images, write the quantity and name (i.e. 2 Pikachu) and click on the 'Import' button. \n\nInternational languages are supported for cards using Limitless URLs.";
        </script>
        <div id="importBottom">
            <button id="decklistsButton">📖</button>
            <button id="importButton">Import</button>
            <button id="confirmButton">Confirm</button>
            <button id="cancelButton">Cancel</button>
            <button id="saveButton" class="neutral-color">Save</button>
            <div id="decklistsContextMenu" class="decklists-context-menu"></div>
            <button id="randomButton">🪄</button>
            <div id="successText">Success!</div><div id="failedText">Error!</div><div id="loadingText"></div><div id="invalidText">Not allowed!</div>
        </div>
        <div id="uploadButtonsContainer">
            <label for="csvFile" id="uploadFileButton" class="self-color">Upload File</label>
            <input type="file" id="csvFile" accept=".csv" style="display:none;">
            <button id="changeCardBackButton" class="self-color">Change Card Back</button>
            <div class="language-container">
                <button id="changeLanguageButton" class="neutral-color">Language: English</button>
                <div id="languageDropdown">
                    <ul>
                        <li>English</li>
                        <li>French</li>
                        <li>German</li>
                        <li>Italian</li>
                        <li>Portuguese</li>
                        <li>Spanish</li>
                    </ul>
                </div>
            </div>
        </div>       
        <button id="saveCurrentButton" class="self-color">Save Current Deck</button>                
    </div>
    
    <!-- Settings Interface -->
    <div id="settings" class="sidebox">
        <div id="settingsToggles">
            <div>
                <input type="checkbox" id="darkModeCheckbox">
                <label for="darkModeCheckbox">Dark mode</label>
            </div>
            <div>
                <input type="checkbox" id="showZonesCheckbox">
                <label for="showZonesCheckbox">Hide containers</label>
            </div>
            <div>
                <input type="checkbox" id="hideHandCheckbox">
                <label for="hideHandCheckbox">Hide opponent's hand (1P mode)</label>
            </div>
        </div>
        <button id="changeBackgroundButton" class="neutral-color">Change background</button>
        <br>
        <div id="keybindReminder">
          Hold (<span class="shift-font">shift</span>) to view keybinds
        </div>
        <div id="twitterDescription">
            <div>Please reach out if you have any questions, suggestions, bugs etc.!</div>
            <a href="https://x.com/Envoy_Of_Hell" target="blank" rel="noopener noreferrer">
                <div id="twitterHandle">
                    <img src="https://images.freeimages.com/image/large-previews/9fe/x-twitter-light-grey-logo-5694251.png">
                    <span id="username">@Envoy_Of_Hell</span>
                </div>
            </a>
        </div>
    </div>
      
    <!-- Card Context Menu -->
    <div id="cardContextMenu" class="card-context-menu">
        <ul>
            <li id="abilityCounterButton">Toggle ability/effect</li>
            <li id="damageCounterButton">Damage counter</li>
            <li id="specialConditionButton">Special condition</li>

            <li id="prizesHeader">Prizes</li>
            <li id="shufflePrizesButton">Shuffle prizes</li>
            <li id="revealHidePrizesButton">Reveal/hide prizes</li>
            <li id="lookPrizesButton">Look/cover prizes</li>

            <li id="handHeader">Hand</li>
            <li id="discardHandButton">Discard hand</li>
            <li id="shuffleHandButton">Shuffle hand into deck</li>
            <li id="shuffleHandBottomButton">Shuffle hand to bottom</li>
            <li id="lookHandButton">Look/cover hand</li>
            <li id="randomHandButton">Pick random card</li>

            <li id="deckHeader">Deck</li>
            <li id="shuffleDeckButton">Shuffle deck</li>
            <li id="drawButton">Draw card(s)</li>
            <li id="viewTopButton">View top card(s)</li>
            <li id="viewBottomButton">View bottom card(s)</li>

            <li id="boardHeader">Playboard</li>
            <li id="discardBoardButton">Discard all</li>
            <li id="handBoardButton">Move all to hand</li>
            <li id="shuffleBoardButton">Shuffle all into deck</li>
            <li id="lostZoneBoardButton">Lost Zone all</li>

            <li id="moveButton">Move card...
                <ul class="card-sub-menu">
                    <li id="moveToBoardButton">to Board</li>
                    <li id="moveToTopButton">to Deck (top)</li>
                    <li id="moveToBottomButton">to Deck (bottom)</li>
                    <li id="switchWithTopButton">to Deck (switch)</li>
                    <li id="shuffleIntoDeckButton">to Deck (shuffle)</li>
                </ul>
            </li>
            <li id="revealHideButton">Reveal/hide card</li>
            <li id="changeButton">Change type...
                <ul class="card-sub-menu">
                    <li id="changeToEnergyButton">to Energy</li>
                    <li id="changeToToolButton">to Tool</li>
                    <li id="changeToPokémonButton">to Pokémon</li>
                </ul>
            </li>
        </ul>
    </div>

    <!-- Options Context Menu -->
    <div id="optionsContextMenu">
        <div id="exitReplay" style="display:none">Exit replay mode</div>
        <div id="jsonReplayDiv"><label for="jsonReplay" id="importReplay" style="cursor: pointer;">Enter replay mode</label>
            <input type="file" id="jsonReplay" accept=".json" style="display:none;" />
        </div>
        <div id="jsonDiv"><label for="jsonFile" id="importState" style="cursor: pointer;">Import game state</label>
            <input type="file" id="jsonFile" accept=".json" style="display:none;" />
        </div>
        <div id="exportState">Export game state</div>
        <div id="exportLog">Export battle log</div>
        <div id="clearLog">Clear battle log</div>
        <div id="fullscreenButton">Full screen</div>
    </div>

    <!-- Keybind Modal -->
    <div id="keybindModal">
        <div class="keybind-section-container">
            <div class="keybind-section">
                <div class="keybind-column">
                    <h1>Move card...</h1>
                    <ul>
                        <li>to Hand <code>[h]</code></li>
                        <li>to Discard <code>[d]</code></li>
                        <li>to Bench <code>[b]</code></li>
                        <li>to Active <code>[a]</code></li>
                        <li>to Stadium <code>[g]</code></li>
                        <li>to Lost Zone <code>[l]</code></li>
                        <li>to Prizes <code>[p]</code></li>
                        <li>to Board <code>[space]</code></li>
                        <li>to Deck (top) <code>[↑]</code></li>
                        <li>to Deck (bottom) <code>[↓]</code></li>
                        <li>to Deck (switch) <code>[→]</code></li>
                        <li>to Deck (shuffle)<code>[s]</code></li>
                    </ul>
                </div>
                <div class="keybind-column">
                    <h1>Deck</h1>
                    <ul>
                        <li>Shuffle deck<code>[s]</code></li>
                        <li>Draw card(s)<code>[1-9]</code></li>
                        <li>View top card(s)<code>[alt + 1-9]</code></li>
                        <li>View bottom card(s)<code>[ctrl + 1-9]</code></li>
                        <li>View <code>[v]</code></li>
                    </ul>
                </div>
                <div class="keybind-column">
                    <h1>Hand</h1>
                    <ul>
                        <li>Discard hand<code>[alt + d]</code></li>
                        <li>Shuffle hand into deck <code>[alt + s]</code></li>
                        <li>Shuffle hand to bottom <code>[alt + ↓]</code></li>
                    </ul>
                </div>
                <div class="keybind-column">
                    <h1>Playboard</h1>
                    <ul>
                        <li>Discard all<code>[enter]</code></li>
                        <li>Move all to hand<code>[alt + enter]</code></li>
                        <li>Shuffle all into deck<code>[/]</code></li>
                    </ul>
                </div>
            </div>
            <div class="keybind-section">
                <div class="keybind-column">
                    <h1>Card actions</h1>
                    <ul>
                        <li>Attach <code>[q]</code></li>
                        <li>Evolve <code>[e]</code></li>
                        <li>View (for cards in play, press twice) <code>[v]</code></li>
                        <li>Toggle ability/effect<code>[w]</code></li>
                        <li>Damage counter</li>
                        <ul>
                            <li>Increase <code>[1-9]</code></li>
                            <li>Decrease <code>[alt + 1-9]</code></li>
                            <li>Remove <code>[0]</code></li>
                        </ul>
                        <li>Special condition</li>
                        <ul>
                            <li>Add/Toggle <code>[y]</code></li>
                            <li>Remove <code>[alt + y]</code></li>
                        </ul>
                        <li>Rotate card(s)<code>[r]</code></li>
                        <li>Rotate BREAK <code>[alt + r]</code></li>
                        <li>Look/cover card (only yourself)<code>[c]</code></li>
                        <li>Hide card (both players)<code>[z]</code></li>
                        <li>Reveal card (both players)<code>[alt + z]</code></li>
                        <li>Put face-down card in active<code>[z] → [a]</code></li>
                        <li>Change type...</li>
                        <ul>
                            <li>to Tool <code>[alt + t]</code></li>
                            <li>to Energy <code>[alt + e]</code></li>
                            <li>to Pokémon <code>[alt + p]</code></li>
                        </ul>
                    </ul>
                </div>
                <div class="keybind-column">
                    <h1>General</h1>
                    <ul>
                        <li>Set up <code>[alt + n]</code></li>
                        <li>Reset <code>[alt + r]</code></li>
                        <li>Start turn <code>[alt + t]</code></li>
                        <li>Flip coin <code>[f]</code></li>
                        <li>Flip board <code>[alt + f]</code></li>
                        <li>Announce mulligan <code>[m]</code></li>
                        <li>Undo <code>[u]</code></li>
                        <li>Close popups <code>[esc]</code></li>
                        <li>Refresh images <code>[r]</code></li>
                    </ul>
                </div>
            </div>
        </div>
        <div style="position: absolute; bottom: 0; left: 20px;">
            <p style="font-size: 1.5vh;"><strong>For macOS:</strong> Use <code>option</code> instead of <code>alt</code>
            </p>
        </div>
    </div>

    <!-- Decklist Tables -->
    <table id="decklistTable">
        <thead>
            <tr>
                <th>QTY</th>
                <th>Name</th>
                <th>Type</th>
                <th>URL</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>

    <table id="selfCurrentDecklistTable" style="display: none;"></table>
    <table id="oppCurrentDecklistTable" style="display: none;"></table>

    <!-- Special Pages/Modals -->
    <div id="videoContainer"></div>
    
    <!-- Changelog Container - Content loaded dynamically -->
    <div id="changelog"></div>
    
    <!-- Donations Page -->
    <div id="donationsPage">
        <h2>Sponsors & Donations</h2>

        <p>Hi everyone! I'm Michael/Xiao Xiao Long. I'm a 21-year-old from Guelph, Canada, who started programming in the fall of 2023. I've been playing the Pokémon TCG for over 8 years, and I spent the last 3 months building PTCG-sim, a free tool for the community to use to test and play our favorite card game.</p>

        <p>I publicly launched the sim on Christmas, and it has already grown an incredible community of players and developers. There's a lot more to do, and I could use as much help as I can get!</p>

        <p>Should you find joy in using the sim and wish to support its ongoing development, you can sponsor me/the project through one of the links below. However, please know that sponsorship is completely optional. Your enjoyment of the sim is contribution enough, and I'm thrilled to have you as part of our community :)</p>

        <p>-XXL's Links: <3</p>

        <h3><a href="https://github.com/sponsors/xxmichaellong?o=esc" target="_blank" style="color: rgb(91, 91, 173); text-decoration: underline;">Github Sponsors Link</a></h3>
        <h3><a href="https://www.paypal.com/donate/?hosted_button_id=VWFSCL73GDHF4" target="_blank"  style="color: rgb(91, 91, 173); text-decoration: underline;">Paypal Donation Link</a></h3>
      
      </div>

    <!-- Changelog Scripts -->
    <script src="src/changelogs/main-changelog.js"></script>
    <script src="src/changelogs/meta-changelog.js"></script>
    <script src="src/changelogs/changelog.js"></script>

</body>
</html>
